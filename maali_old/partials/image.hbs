<picture class="{{picture_class}}">
  {{!-- Serve the WebP format if the browser supports it --}}
  <source 
    {{#if sizes}}sizes="{{sizes}}"{{/if}}
    {{^match loading "eager"}}data-sizes="auto"{{/match}}
    {{^match loading "eager"}}srcset="{{img_url image_url size="xxs"}} 30w"{{/match}}
    {{^match loading "eager"}}data-{{/match}}srcset="{{#if size_xxs}}{{img_url image_url size="xxs" format="webp"}} 30w{{#if size_xs}}, {{/if}}{{/if}}{{#if size_xs}}{{img_url image_url size="xs" format="webp"}} 100w{{#if size_s}}, {{/if}}{{/if}}{{#if size_s}}{{img_url image_url size="s" format="webp"}} 300w{{#if size_m}}, {{/if}}{{/if}}{{#if size_m}}{{img_url image_url size="m" format="webp"}} 600w{{#if size_l}}, {{/if}}{{/if}}{{#if size_l}}{{img_url image_url size="l" format="webp"}} 1000w{{#if size_xl}}, {{/if}}{{/if}}{{#if size_xl}}{{img_url image_url size="xl" format="webp"}} 2000w{{/if}}"
    type="image/webp"
  >
  {{!-- Fallback image --}}
  <img class="{{image_class}}"
    {{#if sizes}}sizes="{{sizes}}"{{/if}}
    {{^match loading "eager"}}data-sizes="auto"{{/match}}
    data-srcset="{{#if size_xxs}}{{img_url image_url size="xxs"}} 30w{{#if size_xs}}, {{/if}}{{/if}}{{#if size_xs}}{{img_url image_url size="xs"}} 100w{{#if size_s}}, {{/if}}{{/if}}{{#if size_s}}{{img_url image_url size="s"}} 300w{{#if size_m}}, {{/if}}{{/if}}{{#if size_m}}{{img_url image_url size="m"}} 600w{{#if size_l}}, {{/if}}{{/if}}{{#if size_l}}{{img_url image_url size="l"}} 1000w{{#if size_xl}}, {{/if}}{{/if}}{{#if size_xl}}{{img_url image_url size="xl"}} 2000w{{/if}}"
    srcset="{{img_url image_url size="xxs"}} 30w"
    data-src="{{img_url image_url size="xs"}}"
    src="{{img_url image_url size="xxs"}}"
    alt="{{#match image_type "post"}}{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}{{/match}}{{#match image_type "site"}}{{@site.title}}{{/match}}{{#match image_type "author"}}{{name}}{{/match}}{{#match image_type "tag"}}{{name}}{{/match}}"
    {{#if loading}}loading="{{loading}}"{{/if}}
  >
</picture>